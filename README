/*-----------------------------
SEO for flash - © Sliday 2011

version 1.00	24.02.2011
-----------------------------*/

Данный файл является справочным документом по работе с flashSEO
Здесь кратко описана настройка, тестирование и возможные проблемы при работе с flashSEO

Оглавление:
1. Требования к серверу
2. Начало работы
3. Редактирование главной страницы
4. Тестирование
5. Возможные проблемы и их решение
6. Рекомендации разработчикам сайтов, использующим flashSEO
 
 
1. Требования к серверу
	Для работы данного компонента, сервер должен удовлетворять следующим требованиям:
	1) Сервер должен поддерживать выполнение php-скриптов
	2) PHP должен поддерживать расширение simplexml. В современных вресиях php оно доступно по умолчанию
	3) XML-файлы сайта и основная страница должны быть в кодировке UTF-8. Пока поддержка других кодировок не гарантирована
	
	
2. Начало работы
	Для того чтобы начать пользоваться flashSEO необходимо сделать 4 вещи:
	1) Скачать flashSEO себе на компьютер 
	2) Отредактировать файл "config.php", добавив ключевую информацию о сайте, а также прописав пути к xml-файлам
	3) Положить файлы "flashSEO.php" и "config.php" в одну папку вместе с главной страницой сайта ("index.php" например)
	4) Отредактировать главную страницу сайта. Как это правильно сделать, написано в следующей главе
	
	
3. Редактирование главной страницы 
	Для корректной работы flashSEO необходимо добавить в исходный код главной страницы 3 строчки:
	1) В самое начало файла:
	
			<?php require_once('flashSEO.php'); ?>
	
	2) Между тэгами <head> и </head>:
	
			<?php getMeta(); ?>
	
	3) 	Если вы пользуетесь библиотекой swfobject:
			Между тэгами <div> и </div>, в тот самый div, куда встраивается swf-файл.	
		Если вы пользуетесь библиотекой AC_FL_RunContent:
			Между <noscript> и </noscript>

			<?php getContent(); ?>
	
	ВНИМАНИЕ! Не забудьте поменять расширение главной страницы сайта на php (например "index.php")
	Скрипт не будет работать в файлах с расширением html или htm.
	
	
4. Тестирование
	Для проверки работы скрипта, пройдите по ссылке:
						
						http:// <путь до вашего сайта> /index.php?testseo
	
	И посмотрите исходный код (Ctrl+U)
	В случае корректной работы, между тэгами <head> </head> должна появиться meta-информация о сайте, а в месте, куда встраивается
	swf-файл должен появиться большой блок текста, составленного из текстового содержимого вашего сайта.
	При этом, строчка <?php require_once('flashSEO.php'); ?> в начале файла отсутствует. Сам сайт выглядит так же, как и до этого.

	Кроме этого, проверить работу скрипта можно пройдя по ссылкам:	
	http:// <путь до вашего сайта> /index.php?getmeta			- вывод meta-данных
	http:// <путь до вашего сайта> /index.php?getcontent			- вывод основного текста и картинок
	
	
5. Возможные проблемы и их решение
	1) 	Я отредактировал код главной страницы сайта, но скрипт не работает. 
		Когда я смотрю исходный код страницы, строчка <?php require_once('flashSEO.php'); ?> все ещё на месте.
		Что я делаю не так?
	--проверьте, что файл главной страницы имеет расширение php (например "index.php"). 
	Скрипт не будет работать в файлах с расширением html или htm
	
	2)	Я все сделал как написано, но получаю ошибку, что то вроде "Сall to undefined function simplexml_load_file()"
		Как мне быть?
	--дело в том, что на вашем сервере не доступно расширение simplexml. Обратитесь к тому, кто знает, как установить данное расширение
	или смените хостера.
	
	3)	Я получаю ошибку вида: "Warning: require_once('...') [function.require-once]: failed to open stream: No such file or directory..."
		В чем проблема?
	--вы забыли добавить файл "flashSEO.php" (и, скорее всего файл "config.php" тоже) в папку с главной страницей сайта
	Обратитесь ко второй главе данного справочного руководства
	
	4)	Я все сделал, но когда я смотрю сайт, помимо сайта отображается куча текста
		Тут явно что то не так
	--видимо, вы не туда вставили строчку <?php getContent(); ?>
	Почитайте главу 2.
	
	
6. Рекомендации разработчикам сайтов, использующим flashSEO
	1)	В xml-файлах используйте кодировку UTF-8. simplexml может некорректно работать с другими кодировками
	2)	Парсинг xml-файлов с текстовым содержимым происходит так:
		Например, xml-файл такого вида:
			
			<content>
				<texts>
					<about>
						Example Text Example Text
					</about>
					<prices>
						Example Prices Example Prices
					</prices>
				
				</texts>
			</content>
			
		будет преобразован в такую конструкцию:
		
			<h2>about</h2>
			<p>Example Text Example Text</p>
			<h2>prices</h2>
			<p>Example Prices Example Prices</p>
	
		Можно заметить, что:
			a)	лучше хранить "заголовки" информации непосредственно в названии тэга (<about> например)
			б)	тэги <texts> и <content> не учитываются, так же как и любые другие тэги без текстовой информации
			в)	кроме этого, аттрибуты тэгов не парсятся, так что в них лучше не хранить информацию, которая должна быть проиндексирована	
			
	3) 	Парсинг xml-файлов с картинками работает только на сайтах, где применяется наша xml-админка
		Данные берутся из атрибутов альбомов alb_title и alb_description
		А также из атрибутов картинок img_title и img_description
	
	
	
	
	
	